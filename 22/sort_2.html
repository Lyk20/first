<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<p id="text"></p>
		<script>
			var txt=document.getElementById("text");
			var scoreObject = {
			    "Tony": {
			        "Math": 95,
			        "English": 79,
			        "Music": 68
			    }, 
			    "Simon": {
			        "Math": 100,
			        "English": 95,
			        "Music": 98
			    }, 
			    "Annie": {
			        "Math": 54,
			        "English": 65,
			        "Music": 88,
			    }
			}
		
		
		function oToArr(obj) {			
			var arr=[];
			var arr_1=[];
			for(x in obj) {
				arr_1=[];
				arr_1.push(x);
				for(j in obj[x]) {	
					arr_1.push(obj[x][j]);
				}
				arr.push(arr_1);
			}
			return arr;
		}
		
		var menuArr = [
		    [1, "Area1", -1],
		    [2, "Area2", -1],
		    [3, "Area1-1", 1],
		    [4, "Area1-2", 1],
		    [5, "Area2-1", 2],
		    [6, "Area2-2", 2],
		    [7, "Area1-2-3", 4],
		    [8, "Area2-2-1", 6],
		];

		function aToObj(arr) {
			var newObj={};
			var obj={};
			var a=[];
			var temp=[];
			for(i=0;i<arr.length;) {
				a=arr.pop();
				obj["name"]=a[1];
				obj["link"]=a[2];
				newObj[a[0]]=obj;
				obj={};
				temp.unshift(a[2]);
			}
			var h={};
			for(x in newObj) {
				for(j in newObj) {
					if(x == newObj[j].link && x != j) {	
						h[j]=newObj[j];
						newObj[x]["subMenu"]=h;
						delete newObj[x]["subMenu"][j].link;
					}
				}
				h={};
				if(temp[x-1]>0) {
					delete newObj[x];
				}
				else {
					delete newObj[x].link;
				}
			}
			return newObj;
		}
		
		console.log(oToArr(scoreObject));
		console.log(aToObj(menuArr));
		</script>
		 
	</body>
</html>
